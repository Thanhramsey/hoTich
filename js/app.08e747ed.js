(function(t){function e(e){for(var n,i,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],n=!0,s=1;s<o.length;s++){var c=o[s];0!==r[c]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},r={app:0},a=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/hoTich/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);var n=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"VueXlsx"},[o("v-card",{staticClass:"big-card",attrs:{height:"100%"}},[o("v-tabs",{attrs:{"background-color":"primary",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e){return o("v-tab",{key:e.tab},[t._v("\n        "+t._s(e.tab)+"\n      ")])})),1),o("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(t){return o("v-tab-item",{key:t.tab},[o("v-card",{staticClass:"big-card",attrs:{height:"100%"}},[o("v-card-text",[o(t.content,{tag:"component"})],1)],1)],1)})),1)],1)],1)},a=[],i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-app",[o("v-container",[o("section",[o("section",{staticClass:"mb-5"},[o("h2",{staticClass:"mb-5"},[t._v("Get Token(Dùng ở local)")])]),o("hr",{staticClass:"mb-5"}),o("div",[o("label",{attrs:{for:"username"}},[t._v("Username:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticStyle:{width:"100%",padding:"10px",margin:"10px 0",border:"1px solid #bbbbbb !important","border-radius":"4px","box-sizing":"border-box","font-size":"16px"},attrs:{type:"text",id:"username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),o("div",[o("label",{attrs:{for:"password"}},[t._v("Password:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticStyle:{width:"100%",padding:"10px",margin:"10px 0",border:"1px solid #bbbbbb !important","border-radius":"4px","box-sizing":"border-box","font-size":"16px"},attrs:{type:"password",id:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),o("button",{staticStyle:{color:"white","font-weight":"bold",width:"150px",padding:"10px",margin:"10px 0",border:"1px solid #bbbbbb !important","border-radius":"4px","box-sizing":"border-box","font-size":"16px","background-color":"rgb(38, 113, 184) !important"},on:{click:t.getToken}},[t._v("\n          Get Token\n        ")]),t.token?o("p",[t._v("Token: "+t._s(t.token))]):t._e()]),o("section",[o("section",{staticClass:"mb-5"},[o("h2",{staticClass:"mb-5"},[t._v("Get TT Hồ sơ")]),o("div",[o("label",{staticStyle:{"font-size":"large","font-weight":"bold"},attrs:{for:"igateToken"}},[t._v("gliToken:")]),o("v-icon",{staticClass:"ml-2 cursor-pointer round-icon",style:t.iconStyle,on:{click:function(e){return t.showImage("images/image2.png")}}},[t._v("\n              mdi-information-outline\n            ")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],staticClass:"textarea",staticStyle:{width:"100%",height:"100px","box-sizing":"border-box",border:"1px solid #bbbbbb !important"},attrs:{type:"text",id:"igateToken",required:""},domProps:{value:t.token},on:{input:function(e){e.target.composing||(t.token=e.target.value)}}})],1),o("div",[o("div",{staticClass:"d-flex align-center"},[o("label",{staticStyle:{"font-size":"large","font-weight":"bold"},attrs:{for:"igateToken"}},[t._v("\n                igateToken:\n              ")]),o("v-icon",{staticClass:"ml-2 cursor-pointer round-icon",style:t.iconStyle,on:{click:function(e){return t.showImage("images/image.png")}}},[t._v("\n                mdi-information-outline\n              ")])],1),o("v-dialog",{staticClass:"custom-dialog",style:t.imageStyle,attrs:{persistent:"","max-width":"90%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline",staticStyle:{"margin-bottom":"20px"}},[t._v("Lấy token Igate"),o("v-icon",{style:t.closeIconStyle,on:{click:function(e){t.dialog=!1}}},[t._v("\n                    mdi-close\n                  ")])],1),o("v-card-text",[o("v-img",{attrs:{src:t.currentImage,alt:"Description"}})],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Đóng")])],1)],1)],1),o("v-dialog",{attrs:{"max-width":"700px",persistent:""},model:{value:t.notificationDialog,callback:function(e){t.notificationDialog=e},expression:"notificationDialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[t.isSuccess?o("span",[t._v("Success")]):o("span",[t._v("Error")])]),o("v-card-text",[o("v-alert",{attrs:{type:t.isSuccess?"success":"error",border:"left","colored-border":""}},[t._v("\n                    "+t._s(t.notificationMessage)+"\n                  ")])],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticStyle:{color:"white","background-color":"#1976d2 !important"},attrs:{text:""},on:{click:function(e){t.notificationDialog=!1}}},[t._v("Close")])],1)],1)],1),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.igateToken,expression:"igateToken"}],staticClass:"textarea",staticStyle:{width:"100%",height:"100px","box-sizing":"border-box",border:"1px solid #bbbbbb !important"},attrs:{type:"text",id:"igateToken",required:""},domProps:{value:t.igateToken},on:{input:function(e){e.target.composing||(t.igateToken=e.target.value)}}})],1),o("div",[o("label",{staticStyle:{"font-size":"large","font-weight":"bold"},attrs:{for:"maHso"}},[t._v("Mã hồ sơ:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.maHso,expression:"maHso"}],staticStyle:{width:"100%",padding:"10px",margin:"10px 0",border:"1px solid #bbbbbb !important","border-radius":"4px","box-sizing":"border-box","font-size":"16px"},attrs:{type:"text",id:"maHso",required:""},domProps:{value:t.maHso},on:{input:function(e){e.target.composing||(t.maHso=e.target.value)}}})]),t.eformData?o("p",{staticStyle:{color:"red",display:"none"}},[t._v("\n            eformData: "+t._s(t.eformData)+"\n          ")]):t._e(),o("v-btn",{staticStyle:{color:"white","font-weight":"bold",width:"auto",padding:"20px",margin:"10px 0",border:"1px solid #bbbbbb !important","border-radius":"4px","box-sizing":"border-box","font-size":"16px","background-color":"rgb(38, 113, 184) !important"},attrs:{disabled:t.loading,variant:"outlined"},on:{click:t.fetchData}},[t.loading?o("v-progress-circular",{staticClass:"ml-2",attrs:{indeterminate:"",color:"white",size:"20"}}):t._e(),t._v("\n            Get TT Hồ sơ\n          ")],1)],1),o("section",{staticClass:"mt-5"},[o("h2",{staticClass:"mb-5"},[t._v("Đẩy qua hộ tịch")]),o("v-btn",{staticStyle:{color:"white",width:"auto","font-weight":"bold",padding:"20px",margin:"10px 0",border:"1px solid #bbbbbb !important","border-radius":"4px","box-sizing":"border-box","font-size":"16px","background-color":"rgb(38, 113, 184) !important"},attrs:{disabled:t.loading,variant:"outlined"},on:{click:t.pushHoTich}},[t._v("\n            Đẩy qua hộ tịch\n          ")]),t.requestBody?o("p",{staticStyle:{color:"red",display:"none"}},[t._v("\n            Body gửi đi: "+t._s(t.requestBody)+"\n          ")]):t._e(),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.requestBodyString,expression:"requestBodyString"}],staticStyle:{width:"100%",height:"300px"},domProps:{value:t.requestBodyString},on:{input:function(e){e.target.composing||(t.requestBodyString=e.target.value)}}}),t.responseHT?o("p",{staticStyle:{color:"purple"}},[t._v("\n            Kết quả trả về từ hộ tịch: "+t._s(t.responseHT)+"\n          ")]):t._e()],1)])])],1)],1)},s=[],c=(o("a481"),o("f576"),o("06db"),o("551c"),o("96cf"),o("cee4"));o("8a81"),o("5df3"),o("cadf"),o("ac6a");function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t){var e="";function o(t){var n=function(n){t.hasOwnProperty(n)&&("object"!==l(t[n])||Array.isArray(t[n])?Array.isArray(t[n])?t[n].forEach((function(t){e+="<".concat(n,">"),o(t),e+="</".concat(n,">")})):e+="<".concat(n,">").concat(t[n],"</").concat(n,">"):(e+="<".concat(n,">"),o(t[n]),e+="</".concat(n,">")))};for(var r in t)n(r)}return o(t),e}function d(t,e,o,n,r,a,i){try{var s=t[a](i),c=s.value}catch(l){return void o(l)}s.done?e(c):Promise.resolve(c).then(n,r)}function p(t){return function(){var e=this,o=arguments;return new Promise((function(n,r){var a=t.apply(e,o);function i(t){d(a,n,r,i,s,"next",t)}function s(t){d(a,n,r,i,s,"throw",t)}i(void 0)}))}}var g={components:{},watch:{},computed:{iconStyle:function(){return{backgroundColor:"#1976d2 !important",color:"white",borderRadius:"50%",padding:"10px",fontSize:"24px",marginBottom:"5px"}},closeIconStyle:function(){return{position:"absolute",right:"16px",top:"16px",cursor:"pointer",color:"white",borderRadius:"50%",backgroundColor:"#1976d2 !important"}},imageStyle:function(){return{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}},data:function(){return{username:"imsqeSUzd7YRbvAoAoZvKkOPx0Ia",password:"YcJE_MIA9Wo9Vijr8lz8vUQJde8a",token:"",maHso:"",hsoId:"",igateToken:"",eformData:"",requestBody:{maDonVi:"",module:"",maHoSo:"",ngayTiepNhan:"",data:""},responseHT:"",requestBodyString:"",dialog:!1,currentImage:"",notificationDialog:!1,notificationMessage:"",isSuccess:!1,loading:!1}},methods:{showImage:function(t){this.currentImage=t,this.dialog=!0},showError:function(){this.notificationDialog=!0},getToken:function(){var t=this;return p(regeneratorRuntime.mark((function e(){var o,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o="/api/token",n="Basic ".concat(btoa("".concat(t.username,":").concat(t.password))),r=new URLSearchParams,r.append("grant_type","client_credentials"),e.prev=4,e.next=7,c["a"].post(o,r,{headers:{Authorization:n,"Access-Control-Allow-Origin ":"*","Content-Type":"application/x-www-form-urlencoded"}});case 7:a=e.sent,console.log("Token:",a.data),t.token=a.data.access_token,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](4),e.t0.response?(console.error("Dữ liệu phản hồi lỗi:",e.t0.response.data),console.error("Trạng thái phản hồi lỗi:",e.t0.response.status),console.error("Header phản hồi lỗi:",e.t0.response.headers)):e.t0.request?console.error("Yêu cầu lỗi:",e.t0.request):console.error("Thông báo lỗi:",e.t0.message),console.error("Cấu hình lỗi:",e.t0.config);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})))()},getHsoId:function(){var t=this;return p(regeneratorRuntime.mark((function e(){var o,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.maHso.trim().replace(/\s+/g,""),n="https://apiigate.gialai.gov.vn/pa/dossier/search?page=0&size=20&applicant-organization=&spec=slice&code=".concat(o),e.prev=2,e.next=5,c["a"].get(n,{headers:{Authorization:"Bearer ".concat(t.igateToken)}});case 5:r=e.sent,console.log("content:",r),t.hsoId=r.data.content[0].id,e.next=17;break;case 10:e.prev=10,e.t0=e["catch"](2),t.loading=!1,t.isSuccess=!1,t.notificationMessage="Get thông tin hồ sơ không thành công",t.showError(),e.t0.response?(console.error("Dữ liệu phản hồi lỗi:",e.t0.response.data),console.error("Trạng thái phản hồi lỗi:",e.t0.response.status)):e.t0.request?console.error("Yêu cầu lỗi:",e.t0.request):console.error("Thông báo lỗi:",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[2,10]])})))()},getData:function(){var t=this;return p(regeneratorRuntime.mark((function e(){var o,n,r,a,i,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o="https://apiigate.gialai.gov.vn/pa/dossier/".concat(t.hsoId,"/--online"),e.prev=1,e.next=4,c["a"].get(o,{headers:{Authorization:"Bearer ".concat(t.igateToken)}});case 4:n=e.sent,console.log("Data:",n.data),t.requestBody.maDonVi=n.data.eForm.data.noiDangKy,r=new Date(n.data.acceptedDate),a=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0"),t.requestBody.ngayTiepNhan="".concat(a,"-").concat(i,"-").concat(s),t.requestBody.module=n.data.eForm.data.loaiHTTP,t.requestBody.maHoSo=n.data.code,t.eformData=n.data.eForm.data,l=u(t.eformData),t.requestBody.data="<hotich><hoso>".concat(l,"</hoso></hotich>"),t.responseHT="",t.requestBodyString=JSON.stringify(t.requestBody,null,2),t.isSuccess=!0,t.notificationMessage="Get thông tin hồ sơ thành công",t.showError(),e.next=29;break;case 24:e.prev=24,e.t0=e["catch"](1),t.isSuccess=!1,t.notificationMessage="Get thông tin hồ sơ không thành công",e.t0.response?(console.error("Dữ liệu phản hồi lỗi:",e.t0.response.data),console.error("Trạng thái phản hồi lỗi:",e.t0.response.status)):e.t0.request?console.error("Yêu cầu lỗi:",e.t0.request):console.error("Thông báo lỗi:",e.t0.message);case 29:return e.prev=29,t.loading=!1,t.showError(),e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[1,24,29,33]])})))()},fetchData:function(){var t=this;return p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.getHsoId();case 3:if(!t.hsoId){e.next=6;break}return e.next=6,t.getData();case 6:case"end":return e.stop()}}),e)})))()},pushHoTich:function(){var t=this;return p(regeneratorRuntime.mark((function e(){var o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading=!0,""!=t.token){e.next=8;break}t.loading=!1,t.notificationMessage=" Chưa có token GLI",t.isSuccess=!1,t.showError(),e.next=30;break;case 8:return o="https://congdichvu.gialai.gov.vn:443/hotich/1.0/dangKyHoTich",t.requestBody=JSON.parse(t.requestBodyString),console.log(t.requestBody),e.prev=11,e.next=14,c["a"].post(o,t.requestBody,{headers:{Authorization:"Bearer ".concat(t.token),"Content-Type":"application/json"}});case 14:n=e.sent,console.log("Response:",n.data),t.responseHT=n.data,t.notificationMessage=n.data,t.isSuccess=!0,e.next=26;break;case 21:e.prev=21,e.t0=e["catch"](11),t.notificationMessage=e.t0.response?e.t0.response.data:e.t0.message,t.isSuccess=!1,console.error("Error:",e.t0.response?e.t0.response.data:e.t0.message);case 26:return e.prev=26,t.loading=!1,t.showError(),e.finish(26);case 30:case"end":return e.stop()}}),e,null,[[11,21,26,30]])})))()}}},b=g,h=o("2877"),m=Object(h["a"])(b,i,s,!1,null,"5251d67d",null),f=m.exports,v=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},x=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("section",[o("section",{staticClass:"mb-5"})])])}],y={components:{},data:function(){return{hsoId:"",igateToken:"",eformData:""}},watch:{},methods:{}},w=y,k=Object(h["a"])(w,v,x,!1,null,null,null),S=k.exports,_={components:{BAOCAO1:f,BAOCAO2:S},data:function(){return{tableTitle:"Cuộc thi",tab:null,items:[{tab:"Get Token",content:"BAOCAO1"},{tab:"Đăng ký hộ tịch",content:"BAOCAO2"}]}},methods:{}},T=_,q=Object(h["a"])(T,r,a,!1,null,null,null),C=q.exports,B=o("ce5b"),D=o.n(B);o("bf40"),o("5363");n["default"].use(D.a);var z={},O=new D.a(z);o("d1e7");n["default"].config.productionTip=!1,new n["default"]({vuetify:O,render:function(t){return t(C)}}).$mount("#app")}});
//# sourceMappingURL=app.08e747ed.js.map