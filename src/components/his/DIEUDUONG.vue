<template>
  <div class="p-4">
    <h2>Äiá»u dÆ°á»¡ng</h2>

    <div class="mb-4">
      <button @click="startTour" class="btn">â–¶ Báº¯t Ä‘áº§u hÆ°á»›ng dáº«n</button>
      <button @click="showStep('step3')" class="btn ml">ğŸ‘€ Xem bÆ°á»›c 3</button>
      <button @click="showStep('step5')" class="btn ml">ğŸ‘€ Xem bÆ°á»›c 5</button>
    </div>

    <div id="step1" class="box">1ï¸âƒ£ NÃºt phiáº¿u Ä‘iá»u trá»‹</div>
    <div id="step2" class="box">2ï¸âƒ£ Nháº­p diá»…n biáº¿n</div>
    <div id="step3" class="box">3ï¸âƒ£ Nháº¥n LÆ°u</div>
    <div id="step4" class="box">4ï¸âƒ£ Táº¡o Ä‘Æ¡n thuá»‘c</div>
    <div id="step5" class="box">5ï¸âƒ£ KÃ½ sá»‘</div>
  </div>
</template>

<script>
import Shepherd from "shepherd.js";
import "shepherd.js/dist/css/shepherd.css";

export default {
  name: "GuideDemo",
  data() {
    return {
      tour: null,
    };
  },
  mounted() {
    // Táº¡o tour ngay khi component load
    this.tour = new Shepherd.Tour({
      useModalOverlay: true,
      defaultStepOptions: {
        cancelIcon: { enabled: true },
        scrollTo: true,
        classes: "shepherd-theme-arrows",
      },
    });

    // CÃ¡c bÆ°á»›c
    this.tour.addStep({
      id: "step1",
      text: "ğŸ‘‰ <b>BÆ°á»›c 1:</b> Chá»n nÃºt phiáº¿u Ä‘iá»u trá»‹",
      attachTo: { element: "#step1", on: "bottom" },
      buttons: [{ text: "Tiáº¿p", action: () => this.tour.next() }],
    });

    this.tour.addStep({
      id: "step2",
      text: "âœ <b>BÆ°á»›c 2:</b> Nháº­p thÃ´ng tin diá»…n biáº¿n",
      attachTo: { element: "#step2", on: "bottom" },
      buttons: [
        { text: "Quay láº¡i", action: () => this.tour.back() },
        { text: "Tiáº¿p", action: () => this.tour.next() },
      ],
    });

    this.tour.addStep({
      id: "step3",
      text: "ğŸ’¾ <b>BÆ°á»›c 3:</b> Nháº¥n LÆ°u Ä‘á»ƒ lÆ°u phiáº¿u Ä‘iá»u trá»‹",
      attachTo: { element: "#step3", on: "top" },
      buttons: [
        { text: "Quay láº¡i", action: () => this.tour.back() },
        { text: "Tiáº¿p", action: () => this.tour.next() },
      ],
    });

    this.tour.addStep({
      id: "step4",
      text: '<b>BÆ°á»›c 4:</b> Táº¡o Ä‘Æ¡n thuá»‘c <br><img src="https://placehold.co/200x100" style="max-width:200px"/>',
      attachTo: { element: "#step4", on: "top" },
      buttons: [
        { text: "Quay láº¡i", action: () => this.tour.back() },
        { text: "Tiáº¿p", action: () => this.tour.next() },
      ],
    });

    this.tour.addStep({
      id: "step5",
      text: "âœ… <b>BÆ°á»›c 5:</b> KÃ½ sá»‘ Ä‘á»ƒ hoÃ n táº¥t",
      attachTo: { element: "#step5", on: "top" },
      buttons: [
        { text: "Quay láº¡i", action: () => this.tour.back() },
        { text: "HoÃ n táº¥t", action: () => this.tour.complete() },
      ],
    });
  },
  methods: {
    startTour() {
      this.tour.start();
    },
    showStep(id) {
      if (!this.tour.isActive()) {
        this.tour.start();
      }
      this.tour.show(id);
    },
  },
};
</script>

<style scoped>
.p-4 {
  padding: 20px;
  font-family: sans-serif;
}

.mb-4 {
  margin-bottom: 20px;
}

.btn {
  padding: 6px 12px;
  background: #3d70ef;
  color: white;
  border-radius: 4px;
  border: none;
  cursor: pointer;
}
.ml {
  margin-left: 10px;
}

.box {
  padding: 16px;
  margin-bottom: 10px;
  background: #f2f2f2;
  border: 1px solid #ddd;
  border-radius: 4px;
}
</style>
